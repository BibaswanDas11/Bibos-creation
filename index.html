<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="google-site-verification" content="Alhr8fqmSjOB6sTEr2xxd4CZT4vbdTmqc1KHwRIO-qQ">

<title>Bibos Creation | Projects, Designs & Innovations</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Bibos Creation is a creative website by Bibaswan Das showcasing drawings, student projects, electronics models, and web designs.">
<meta name="keywords" content="drawings, sketches, student projects, electronics projects, Bibos Creation">
<meta name="author" content="Bibaswan Das">
<meta name="robots" content="index, follow">

<link rel="stylesheet" href="style.css">
</head>

<body>

<header>
  <div id="menuBtn">‚ò∞</div>
  <div class="header-center">Bibo's Creation</div>
  <img src="Screenshot_20251221_214638_Chrome.jpg" class="header-logo">
</header>

<div id="menuOverlay"></div>

<div id="sideMenu">
  <h3>Menu</h3>
  <a href="#" onclick="openAbout()">Home / About</a>
  <a href="#" onclick="openFavorites()">‚ù§Ô∏è Favorites</a>
  <a href="https://wa.me/916290386950" target="_blank">WhatsApp</a>
  <a href="#" onclick="ownerLogin()">Register as Owner</a>
  <a href="#" class="privacy-link" onclick="openPrivacy()">Privacy Policy</a>
</div>

<h2 class="title">Public Gallery</h2>

<!-- SEARCH BAR -->
<div class="search-bar">
  <div class="search-box">
    <span style="margin-right:10px;">üîç</span>
    <input id="searchInput" type="text" placeholder="Search drawings, projects...">
    <span id="clearSearch">‚úï</span>
  </div>
</div>

<!-- CATEGORY BAR -->
<div class="category-bar">
  <button onclick="filterGallery('all')" class="active">All</button>
  <button onclick="filterGallery('image')">Images</button>
  <button onclick="filterGallery('video')">Videos</button>
</div>

<!-- GALLERY -->
<div id="gallery"></div>

<!-- FAVORITES OVERLAY -->
<div id="favoriteOverlay" class="modal">
  <span class="closeBtn" onclick="closeFavorites()">‚úï</span>
  <div class="modal-content">
    <h2>‚ù§Ô∏è Favorites</h2>
    <div id="favoriteContainer" class="fav-grid"></div>
  </div>
</div>

<!-- OWNER PANEL -->
<div id="ownerPanel">
  <h3>Owner Panel</h3>
  <input type="text" id="fileName" placeholder="file.jpg or video.mp4">
  <input type="text" id="fileDesc" placeholder="description">
  <button onclick="generateJSON()">Generate JSON</button>
  <textarea id="generated" readonly></textarea>
</div>

<!-- ABOUT -->
<div id="aboutOverlay" class="modal">
  <span class="closeBtn" onclick="closeModal()">‚úï</span>
  <div class="modal-content">
    <img src="20260101_190719.jpg" class="modal-img">
    <div class="blur-line"></div>
    <p>
      Hi, I‚Äôm <b>Bibaswan Das</b>, a Class 9 student passionate about drawing,
      creativity, electronics projects, and web design.
    </p>
  </div>
</div>

<!-- PRIVACY -->
<div id="privacyOverlay" class="modal">
  <span class="closeBtn" onclick="closeModal()">‚úï</span>
  <div class="modal-content text-left">
    <h2>Privacy Policy</h2>
    <p>This website does not collect personal information from visitors.</p>
    <p>No user accounts, payments, or direct data collection systems are used.</p>
    <p>Third-party services such as GitHub Pages and Google may collect limited technical data.</p>
  </div>
</div>

<!-- IMAGE FULLSCREEN -->
<div id="imageOverlay" class="image-overlay">
  <span class="image-close" onclick="closeImage()">‚úï</span>
  <img id="fullscreenImage">
</div>

<script>
const STORAGE_KEY = "bibos_favorites";

const menuBtn = document.getElementById("menuBtn");
const sideMenu = document.getElementById("sideMenu");
const menuOverlay = document.getElementById("menuOverlay");
const ownerPanel = document.getElementById("ownerPanel");
const gallery = document.getElementById("gallery");

/* MENU */
menuBtn.onclick = () => {
  sideMenu.classList.add("open");
  menuOverlay.classList.add("show");
};
menuOverlay.onclick = closeAll;

function openAbout(){ closeAll(); document.body.classList.add("no-scroll"); aboutOverlay.classList.add("show"); }
function openPrivacy(){ closeAll(); document.body.classList.add("no-scroll"); privacyOverlay.classList.add("show"); }

function closeModal(){
  document.body.classList.remove("no-scroll");
  document.querySelectorAll(".modal").forEach(m=>m.classList.remove("show"));
}
function closeAll(){
  sideMenu.classList.remove("open");
  menuOverlay.classList.remove("show");
  closeModal();
}

/* FAVORITES */
function getFavs(){ return JSON.parse(localStorage.getItem(STORAGE_KEY)) || []; }
function saveFavs(f){ localStorage.setItem(STORAGE_KEY, JSON.stringify(f)); }

function toggleFav(btn){
  const card = btn.closest(".card");
  const id = card.dataset.id;
  let favs = getFavs();

  if(favs.includes(id)){
    favs = favs.filter(x=>x!==id);
    btn.classList.remove("fav");
  } else {
    favs.push(id);
    btn.classList.add("fav");
  }
  saveFavs(favs);
}

function restoreFavs(){
  const favs = getFavs();
  document.querySelectorAll(".card").forEach(c=>{
    if(favs.includes(c.dataset.id)){
      c.querySelector(".fav-btn").classList.add("fav");
    }
  });
}

function openFavorites(){
  closeAll();
  document.body.classList.add("no-scroll");
  favoriteOverlay.classList.add("show");
  renderFavorites();
}
function closeFavorites(){
  favoriteOverlay.classList.remove("show");
  document.body.classList.remove("no-scroll");
}

function renderFavorites(){
  const box = document.getElementById("favoriteContainer");
  const favs = getFavs();
  box.innerHTML = "";

  if(!favs.length){
    box.innerHTML = "<p>No favorites found</p>";
    return;
  }

  favs.forEach(id=>{
    const original = document.querySelector(`.card[data-id="${id}"]`);
    if(!original) return;
    const clone = original.cloneNode(true);
    clone.querySelector(".fav-btn").remove();
    box.appendChild(clone);
  });
}

/* OWNER */
function ownerLogin(){
  ownerPanel.style.display =
    prompt("Enter owner password:") === "6290386950" ? "block" : "none";
}
function generateJSON(){
  generated.value = `{\n  "file": "${fileName.value}",\n  "desc": "${fileDesc.value}"\n},`;
}

/* LOAD GALLERY */
fetch("images.json?" + Date.now())
.then(r => r.json())
.then(data => {
  gallery.innerHTML = "";
  data.forEach(item => {
    const file = item.file.toLowerCase();
    const isVideo = file.endsWith(".mp4") || file.endsWith(".webm");
    const isImage = /\.(jpg|jpeg|png|webp|gif)$/.test(file);
    if (!isVideo && !isImage) return;

    const card = document.createElement("div");
    card.className = "card " + (isVideo ? "video" : "image");
    card.dataset.text = item.desc.toLowerCase();
    card.dataset.id = item.file; // ‚≠ê AUTO ID

    card.innerHTML = isVideo
      ? `<video controls src="videos/${item.file}"></video><p>${item.desc}</p>`
      : `<img src="images/${item.file}" alt="${item.desc}" onclick="openImage(this.src)"><p>${item.desc}</p>`;

    const favBtn = document.createElement("button");
    favBtn.className = "fav-btn";
    favBtn.innerHTML = "‚ô•";
    favBtn.onclick = () => toggleFav(favBtn);

    card.appendChild(favBtn);
    gallery.appendChild(card);
  });
  restoreFavs();
});

/* FILTER */
function filterGallery(type){
  document.querySelectorAll(".category-bar button").forEach(b=>b.classList.remove("active"));
  event.target.classList.add("active");
  document.querySelectorAll(".card").forEach(c=>{
    c.style.display = type==="all" || c.classList.contains(type) ? "block" : "none";
  });
}

/* SEARCH */
searchInput.addEventListener("input", ()=>{
  const q = searchInput.value.toLowerCase();
  document.querySelectorAll(".card").forEach(c=>{
    c.style.display = c.dataset.text.includes(q) ? "block" : "none";
  });
});

/* FULLSCREEN */
const imageOverlay = document.getElementById("imageOverlay");
const fullscreenImage = document.getElementById("fullscreenImage");

function openImage(src){
  fullscreenImage.src = src;
  imageOverlay.classList.add("show");
  document.body.classList.add("no-scroll");
}
function closeImage(){
  imageOverlay.classList.remove("show");
  document.body.classList.remove("no-scroll");
}
imageOverlay.onclick = e => { if(e.target===imageOverlay) closeImage(); };
document.onkeydown = e => { if(e.key==="Escape") closeImage(); };
</script>

</body>
</html>
